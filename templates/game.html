{% extends 'base.html' %}
{% block content %}
<div class="board">
    {% for cat in game.categories %}
    <div class="category">
        <div class="category_header">{{cat['title']}}</div>
        {% for clue in cat['clues']%}
        <button class="clue" question="{{clue['question']}}" answer="{{clue['answer']}}">{{clue['value']}}</button>
        {% endfor %}
    </div>
    {%endfor%}
    <div class="game-scores">
        {% for player in game.players %}
        <div class="name">{{player['name']}}</div>
        <div class= "score">{{player['score']}}</div>
        {% endfor %}
    </div>
    <div id="question-panel" class="modal fade" role="dialog"> 
        <div class="modal-dialog">  
            <div class = "modal-content">
                <div class="modal-body">  
                    <form id="question-form">
                        <div class="question"></div>
                        <input type="text" class="answer_input"/>
                        <input type="submit" class="submit" value="SUBMIT"/>
                    </form>
                </div>
            </div>     
        </div>         
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function(){
        $('.clue').click(function(e){
            var clue = e.target;
            var question = clue.attributes.question.value;
            // var answer = clue.attributes.answer.value;
            // var value = clue.innerText;
            $('.question').append(document.createTextNode(question));
            $('#question-panel').modal({show:true});
        });
        $('#question-panel').on('hidden.bs.modal', function () {
            $('.question').empty();
        });
    });
</script>
{% endblock %}